---
interface Column {
  key: string;
  label: string;
}

interface Props {
  title: string;
  columns: Column[];
  rows: Array<Record<string, string | number | null>>;
  prevHref?: string;
  nextHref?: string;
}

const { title, columns, rows, prevHref, nextHref } = Astro.props;
---

<section>
  <h2 class="text-xl font-semibold tracking-tight">{title}</h2>
  <div class="mt-4 overflow-x-auto rounded-md border">
    <table class="min-w-full text-sm">
      <thead class="bg-muted/40">
        <tr>
          {columns.map((column) => <th class="px-3 py-2 text-left font-medium">{column.label}</th>)}
        </tr>
      </thead>
      <tbody>
        {rows.map((row) => (
          <tr class="border-t">
            {columns.map((column) => <td class="px-3 py-2">{String(row[column.key] ?? "-")}</td>)}
          </tr>
        ))}
      </tbody>
    </table>
  </div>
  <nav class="mt-4 flex gap-4 text-sm">
    {prevHref ? <a class="underline" href={prevHref}>Previous</a> : <span>Previous</span>}
    {nextHref ? <a class="underline" href={nextHref}>Next</a> : <span>Next</span>}
  </nav>
</section>
