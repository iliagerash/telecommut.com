---
import PublicLayout from "@/layouts/PublicLayout.astro";
import { toAbsoluteUrl } from "@/lib/seo";
import { socialImages } from "@/lib/social-images";
import { readFileSync } from "node:fs";

const legacyPrivacyHtml = readFileSync(new URL("../legal/privacy-policy.legacy.html", import.meta.url), "utf8");

const privacyJsonLd = {
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "BreadcrumbList",
      itemListElement: [
        {
          "@type": "ListItem",
          position: 1,
          name: "Home",
          item: toAbsoluteUrl("/"),
        },
        {
          "@type": "ListItem",
          position: 2,
          name: "Privacy Policy",
          item: toAbsoluteUrl("/privacy-policy"),
        },
      ],
    },
    {
      "@type": "WebPage",
      name: "Privacy Policy",
      url: toAbsoluteUrl("/privacy-policy"),
      description: "Privacy policy for Telecommut users.",
      inLanguage: "en",
    },
  ],
};
---

<PublicLayout
  title="Privacy Policy"
  description="Privacy policy for Telecommut users."
  canonicalPath="/privacy-policy"
  robots="noindex,nofollow"
  socialImagePath={socialImages.legal}
  jsonLd={privacyJsonLd}
>
  <section class="glass-panel rounded-3xl border p-6 shadow-sm md:p-8">
    <h1 class="mt-3 text-4xl font-semibold tracking-tight">Privacy Policy</h1>
  </section>

  <section class="legal-copy glass-panel mt-4 rounded-2xl border p-5 md:p-6" set:html={legacyPrivacyHtml} />

  <style>
    .legal-copy :global(p) {
      margin-top: 0.75rem;
      color: var(--muted-foreground);
      font-size: 0.925rem;
      line-height: 1.6;
    }

    .legal-copy :global(h3) {
      margin-top: 1.5rem;
      font-size: 1.5rem;
      font-weight: 600;
      letter-spacing: -0.01em;
    }

    .legal-copy :global(ul) {
      margin-top: 0.75rem;
      list-style: disc;
      padding-left: 1.25rem;
      color: var(--muted-foreground);
    }

    .legal-copy :global(a) {
      text-decoration: underline;
    }
  </style>
</PublicLayout>
