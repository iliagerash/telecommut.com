---
import AdminDataTable from "@/components/admin/AdminDataTable.astro";
import { buildPaginationState } from "@/lib/pagination";
import AdminLayout from "@/layouts/admin/AdminLayout.astro";

export const prerender = false;

const pagination = buildPaginationState(Astro.url.searchParams.get("page"), 25);

const columns = [
  { key: "id", label: "ID" },
  { key: "path", label: "Path" },
  { key: "hits", label: "Hits" },
  { key: "updatedAt", label: "Updated" },
];

const rows = Array.from({ length: 5 }).map((_, index) => ({
  id: `${pagination.offset + index + 1}`,
  path: "/sample-path",
  hits: 0,
  updatedAt: "-",
}));

const prevHref = pagination.page > 1 ? `/admin/traffic?page=${pagination.page - 1}` : undefined;
const nextHref = `/admin/traffic?page=${pagination.page + 1}`;
---

<AdminLayout title="Traffic" description="Admin traffic module scaffold.">
  <AdminDataTable title="Traffic" columns={columns} rows={rows} prevHref={prevHref} nextHref={nextHref} />
</AdminLayout>
