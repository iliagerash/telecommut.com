---
import PublicLayout from "@/layouts/PublicLayout.astro";
import { toAbsoluteUrl } from "@/lib/seo";
import { socialImages } from "@/lib/social-images";
import { readFileSync } from "node:fs";

const legacyTermsHtml = readFileSync(new URL("../legal/terms-and-conditions.legacy.html", import.meta.url), "utf8");

const termsJsonLd = {
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "BreadcrumbList",
      itemListElement: [
        {
          "@type": "ListItem",
          position: 1,
          name: "Home",
          item: toAbsoluteUrl("/"),
        },
        {
          "@type": "ListItem",
          position: 2,
          name: "Terms and Conditions",
          item: toAbsoluteUrl("/terms-and-conditions"),
        },
      ],
    },
    {
      "@type": "WebPage",
      name: "Terms and Conditions",
      url: toAbsoluteUrl("/terms-and-conditions"),
      description: "Terms and conditions for using Telecommut.",
      inLanguage: "en",
    },
  ],
};
---

<PublicLayout
  title="Terms and Conditions"
  description="Terms and conditions for using Telecommut."
  canonicalPath="/terms-and-conditions"
  socialImagePath={socialImages.legal}
  jsonLd={termsJsonLd}
>
  <section class="glass-panel rounded-3xl border p-6 shadow-sm md:p-8">
    <p class="text-xs font-semibold tracking-[0.16em] text-muted-foreground uppercase">Legal</p>
    <h1 class="mt-3 text-4xl font-semibold tracking-tight">Terms and Conditions</h1>
  </section>

  <section class="legal-copy glass-panel mt-4 rounded-2xl border p-5 md:p-6" set:html={legacyTermsHtml} />

  <style>
    .legal-copy :global(p) {
      margin-top: 0.75rem;
      color: var(--muted-foreground);
      font-size: 0.925rem;
      line-height: 1.6;
    }

    .legal-copy :global(h3) {
      margin-top: 1.5rem;
      font-size: 1.5rem;
      font-weight: 600;
      letter-spacing: -0.01em;
    }

    .legal-copy :global(ul) {
      margin-top: 0.75rem;
      list-style: disc;
      padding-left: 1.25rem;
      color: var(--muted-foreground);
    }

    .legal-copy :global(a) {
      text-decoration: underline;
    }
  </style>
</PublicLayout>
